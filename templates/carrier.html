{% extends "base.html" %} 

{% block title %}Carrier{% endblock %} 

{% block content%}
<h1 align="center"> Carrier </h1>
<div id='chart' class='chart'â€></div>
<div class="dropdown">
  <form class="ey" method="post" action="/carriers">
      <h2>Choose The Carrier:</h2>
      <select name="selected_value" id="carrierDropdown">
          <option value="None">Select Carrier</option>
      </select>
      <br>
      <input type="submit" value="Submit">
  </form>
</div>

<div id="plot" class="plot">
  <div class="plot"></div>
  <div class="table">{{ table_html|safe }}</div>
</div>

<script>
  // Array of airports
  var carriers = ['Endeavor Air Inc.', 'American Airlines Inc.',
       'Alaska Airlines Inc.', 'JetBlue Airways', 'Delta Air Lines Inc.',
       'Frontier Airlines Inc.', 'Allegiant Air',
       'Hawaiian Airlines Inc.', 'Envoy Air', 'Spirit Air Lines',
       'PSA Airlines Inc.', 'SkyWest Airlines Inc.',
       'United Air Lines Inc.', 'Southwest Airlines Co.',
       'Republic Airline'];

  // Function to populate the dropdown with airports
  function populateDropdown() {
    var dropdown = document.getElementById("carrierDropdown");

    // Clear existing options
    dropdown.innerHTML = '<option value="None">Select Carrier</option>';

    // Populate the dropdown with airports
    for (var i = 0; i < carriers.length; i++) {
      var option = document.createElement("option");
      option.value = carriers[i];
      option.text = carriers[i];
      dropdown.add(option);
    }
  }

  // Call the function to populate the dropdown on page load
  populateDropdown();
</script>
<script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
<script type='text/javascript'>
  let graphs = {{graphJSON | safe}};
  let plot = {{plotJSON | safe}};
  Plotly.plot('chart',graphs,{});
  Plotly.plot('plot',plot,{});
</script>
{% endblock content%}